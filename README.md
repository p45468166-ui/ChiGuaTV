<<<<<<< HEAD
# åƒç“œTV (chiguatv)

ðŸŽ¬ æ‰“é€ ä½ çš„ç§äºº Netflixï¼TMDb æ™ºèƒ½åˆ®å‰Š + å…¨ç½‘èšåˆ + æžé€Ÿæ’­æ”¾

## ðŸŒŸ é¡¹ç›®ç®€ä»‹

åƒç“œTVæ˜¯ä¸€ä¸ªåŸºäºŽNode.jsçš„è§†é¢‘èšåˆå¹³å°ï¼Œé›†æˆäº†30+ä¸ªå½±è§†èµ„æºç«™ç‚¹çš„APIï¼Œæä¾›æ™ºèƒ½æœç´¢ã€èµ„æºèšåˆã€å®žæ—¶æµ‹é€Ÿç­‰åŠŸèƒ½ï¼Œè®©ä½ è½»æ¾æž„å»ºä¸ªäººå½±è§†åº“ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ðŸ” **æ™ºèƒ½æœç´¢** - èšåˆ30+å½±è§†ç«™ç‚¹ï¼Œä¸€é”®æœç´¢å…¨ç½‘èµ„æº
- âš¡ **å®žæ—¶æµ‹é€Ÿ** - è‡ªåŠ¨æ£€æµ‹å„ç«™ç‚¹å“åº”é€Ÿåº¦ï¼Œä¼˜å…ˆæŽ¨èæœ€å¿«èµ„æº
- ðŸŽ¯ **å¤šæºèšåˆ** - æ”¯æŒéžå‡¡å½±è§†ã€æš´é£Žèµ„æºã€ç”µå½±å¤©å ‚ç­‰30+ä¸»æµç«™ç‚¹
- ðŸ”¥ **çƒ­é—¨æŽ¨è** - è‡ªåŠ¨èŽ·å–24å°æ—¶çƒ­é—¨å½±è§†å†…å®¹
- ðŸŽ¨ **ç®€æ´ç•Œé¢** - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒPC/ç§»åŠ¨ç«¯å®Œç¾Žé€‚é…
- ðŸ” **åŽå°ç®¡ç†** - æ”¯æŒç«™ç‚¹å¼€å…³é…ç½®ï¼Œè‡ªå®šä¹‰èµ„æºæº
- ðŸ“Š **æ•°æ®æŒä¹…åŒ–** - JSONæ•°æ®åº“å­˜å‚¨ï¼Œæ”¯æŒè‡ªå®šä¹‰é…ç½®

## ðŸš€ å¿«é€Ÿå¼€å§‹

### çŽ¯å¢ƒè¦æ±‚
- Node.js â‰¥ 18.0
- npm â‰¥ 8.0
- Cloudflare è´¦å·

### Cloudflare Workers éƒ¨ç½²

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/your-username/chiguatv.git
cd chiguatv
```

#### 2. å®‰è£…ä¾èµ–
```bash
npm install
```

#### 3. é…ç½® TMDb API Key
ç¼–è¾‘ `public/index.html` æ–‡ä»¶ï¼Œæ›¿æ¢ä¸ºä½ è‡ªå·±çš„ TMDb API Keyï¼š
```javascript
const TMDB_API_KEY = "æ›¿æ¢æˆä½ è‡ªå·±çš„KEY";
```

**èŽ·å– TMDb API Key çš„æ­¥éª¤ï¼š**
1. è®¿é—® [TMDb å®˜ç½‘](https://www.themoviedb.org/)
2. æ³¨å†Œå¹¶ç™»å½•è´¦å·
3. è¿›å…¥ [API è®¾ç½®é¡µé¢](https://www.themoviedb.org/settings/api)
4. åˆ›å»ºä¸€ä¸ªæ–°çš„ API å¯†é’¥ï¼ˆé€‰æ‹© "Developer" ç±»åž‹ï¼‰
5. å¤åˆ¶ç”Ÿæˆçš„ API å¯†é’¥

#### 4. é…ç½® Cloudflare Workers

1. ç™»å½• [Cloudflare æŽ§åˆ¶å°](https://dash.cloudflare.com/)
2. åˆ›å»ºä¸€ä¸ªæ–°çš„ Workers æœåŠ¡
3. æ›´æ–° `wrangler.toml` æ–‡ä»¶ï¼Œå¡«å†™ä½ çš„ Workers æœåŠ¡åç§°ï¼š
   ```toml
   name = "your-worker-name"
   main = "worker.js"
   compatibility_date = "2024-10-22"
   ```

   > æ³¨æ„ï¼šå½“å‰ç‰ˆæœ¬ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼Œä¸éœ€è¦é…ç½® KV å‘½åç©ºé—´

#### 5. æœ¬åœ°å¼€å‘
```bash
npm run dev
```

#### 6. éƒ¨ç½²åˆ° Cloudflare Workers
```bash
npm run deploy
```

#### 7. æµ‹è¯•å’Œè°ƒè¯•

1. **æœ¬åœ°æµ‹è¯•**ï¼šè¿è¡Œ `npm run dev` å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè®¿é—® `http://localhost:8787` è¿›è¡Œæµ‹è¯•
2. **åœ¨çº¿æµ‹è¯•**ï¼šéƒ¨ç½²åŽè®¿é—®ä½ çš„ Workers æœåŠ¡ URLï¼Œå¦‚ `https://your-worker-name.workers.dev`
3. **è°ƒè¯•å·¥å…·**ï¼šä½¿ç”¨ Cloudflare Workers æŽ§åˆ¶å°çš„ "Logs" åŠŸèƒ½æŸ¥çœ‹è¿è¡Œæ—¥å¿—
4. **API æµ‹è¯•**ï¼šä½¿ç”¨ Postman æˆ– curl æµ‹è¯• API ç«¯ç‚¹

#### 8. åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] æ³¨å†Œæ–°ç”¨æˆ·
- [ ] ç™»å½•å·²æœ‰ç”¨æˆ·
- [ ] æœç´¢å½±è§†å†…å®¹
- [ ] æ’­æ”¾å½±è§†å†…å®¹
- [ ] æ·»åŠ /å–æ¶ˆæ”¶è—
- [ ] æŸ¥çœ‹åŽ†å²è®°å½•
- [ ] æ¸…é™¤åŽ†å²è®°å½•
- [ ] æŸ¥çœ‹æŽ¨èå†…å®¹
- [ ] è®¿é—®ç®¡ç†åŽå°

#### 9. å¸¸è§é—®é¢˜æŽ’æŸ¥

- **API è¯·æ±‚å¤±è´¥**ï¼šæ£€æŸ¥ç½‘ç»œè¿žæŽ¥å’Œ TMDb API Key æ˜¯å¦æœ‰æ•ˆ
- **æ’­æ”¾å¤±è´¥**ï¼šæ£€æŸ¥èµ„æºç«™ç‚¹æ˜¯å¦å¯ç”¨ï¼Œå°è¯•åˆ‡æ¢å…¶ä»–èµ„æºæº
- **ç™»å½•å¤±è´¥**ï¼šæ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤å¯†ç é•¿åº¦ä¸å°‘äºŽ6ä¸ªå­—ç¬¦
- **éƒ¨ç½²å¤±è´¥**ï¼šæ£€æŸ¥ `wrangler.toml` é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ Cloudflare CLI å·²ç™»å½•

#### 10. é«˜çº§é…ç½®

- **è‡ªå®šä¹‰ç«™ç‚¹**ï¼šç¼–è¾‘ `worker.js` ä¸­çš„ `DEFAULT_SITES` æ•°ç»„ï¼Œæ·»åŠ æˆ–ä¿®æ”¹èµ„æºç«™ç‚¹
- **ä¿®æ”¹ç®¡ç†å‘˜å¯†ç **ï¼šç¼–è¾‘ `worker.js` ä¸­çš„ç®¡ç†å‘˜ç™»å½• API éƒ¨åˆ†
- **æ·»åŠ æ›´å¤šåŠŸèƒ½**ï¼šæ ¹æ®å¼€å‘è®¡åˆ’ï¼Œé€æ­¥å®žçŽ°æ›´å¤šåŠŸèƒ½

### è®¿é—®åº”ç”¨
- å‰ç«¯é¡µé¢: https://your-worker-name.workers.dev
- åŽå°ç®¡ç†: https://your-worker-name.workers.dev/admin.html
- ç®¡ç†å‘˜å¯†ç : `admin`

## ðŸ“¡ APIæŽ¥å£

### æœç´¢æŽ¥å£
```
GET /api/search?wd=å…³é”®è¯
```

### è¯¦æƒ…æŽ¥å£
```
GET /api/detail?site_key=ç«™ç‚¹key&id=å½±ç‰‡ID
```

### çƒ­é—¨æŽ¨è
```
GET /api/hot
```

### ç«™ç‚¹æµ‹é€Ÿ
```
GET /api/check?key=ç«™ç‚¹key
```

### ç®¡ç†æŽ¥å£
```
POST /api/admin/login              # ç®¡ç†å‘˜ç™»å½•
GET  /api/admin/sites              # èŽ·å–ç«™ç‚¹é…ç½®
POST /api/admin/sites              # æ›´æ–°ç«™ç‚¹é…ç½®
```

## ðŸŽ›ï¸ å†…ç½®ç«™ç‚¹

å¹³å°é›†æˆäº†ä»¥ä¸‹30+ä¸ªå½±è§†èµ„æºç«™ç‚¹ï¼š

| ç«™ç‚¹åç§° | çŠ¶æ€ | ç‰¹ç‚¹ |
|---------|------|------|
| éžå‡¡å½±è§† | âœ… | èµ„æºä¸°å¯Œï¼Œæ›´æ–°å¿«é€Ÿ |
| æš´é£Žèµ„æº | âœ… | é«˜æ¸…èµ„æºå¤š |
| ç”µå½±å¤©å ‚ | âœ… | ç»å…¸è€ç‰Œç«™ç‚¹ |
| å¤©æ¶¯èµ„æº | âœ… | ç¨³å®šå¯é  |
| 360èµ„æº | âœ… | æŽ¥å£ç¨³å®š |
| é‡å­èµ„æº | âœ… | è“å…‰é«˜æ¸… |
| è±†ç“£èµ„æº | âœ… | è¯„åˆ†å‡†ç¡® |
| çˆ±å¥‡è‰º | âœ… | æ­£ç‰ˆèµ„æº |
| ... | ... | ... |

## ðŸ”§ é…ç½®è¯´æ˜Ž

### çŽ¯å¢ƒé…ç½®
```javascript
const PORT = 3000;              // æœåŠ¡ç«¯å£
const ADMIN_PASSWORD = "admin"; // ç®¡ç†å‘˜å¯†ç 
const FORCE_UPDATE = true;      // æ˜¯å¦å¼ºåˆ¶æ›´æ–°ç«™ç‚¹é…ç½®
```

### ç«™ç‚¹é…ç½®
ç«™ç‚¹é…ç½®å­˜å‚¨åœ¨ `db.json` æ–‡ä»¶ä¸­ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š
```json
{
  "sites": [
    {
      "key": "ffzy",
      "name": "éžå‡¡å½±è§†",
      "api": "https://api.ffzyapi.com/api.php/provide/vod",
      "active": true
    }
  ]
}
```

## ðŸ› ï¸ æŠ€æœ¯æ ˆ

- **åŽç«¯**: Node.js + Express.js
- **å‰ç«¯**: HTML5 + CSS3 + JavaScript
- **æ•°æ®å­˜å‚¨**: JSONæ–‡ä»¶æ•°æ®åº“
- **HTTPè¯·æ±‚**: Axios
- **è·¨åŸŸå¤„ç†**: CORS
- **ç¼“å­˜**: Node-cache

## ðŸ“± ç•Œé¢é¢„è§ˆ

### ä¸»ç•Œé¢
- æœç´¢æ¡†ï¼šæ”¯æŒå…³é”®è¯æœç´¢
- çƒ­é—¨æŽ¨èï¼šå±•ç¤º24å°æ—¶çƒ­é—¨å†…å®¹
- æœç´¢ç»“æžœï¼šæ˜¾ç¤ºå¤šæºèšåˆç»“æžœ
- è¯¦æƒ…é¡µé¢ï¼šå±•ç¤ºå½±ç‰‡è¯¦ç»†ä¿¡æ¯å’Œæ’­æ”¾é“¾æŽ¥

### ç®¡ç†åŽå°
- ç«™ç‚¹ç®¡ç†ï¼šå¼€å…³å„èµ„æºç«™ç‚¹
- é…ç½®ç®¡ç†ï¼šè‡ªå®šä¹‰APIæŽ¥å£
- ç³»ç»ŸçŠ¶æ€ï¼šæŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€

## ðŸ”’ å®‰å…¨è¯´æ˜Ž

- å»ºè®®ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
- ç”Ÿäº§çŽ¯å¢ƒå»ºè®®ä½¿ç”¨Nginxåå‘ä»£ç†
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…ä»¥ç¡®ä¿å®‰å…¨æ€§

## ðŸ“ å…è´£å£°æ˜Ž

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œè¯·å‹¿ç”¨äºŽå•†ä¸šç”¨é€”ã€‚ä½¿ç”¨æœ¬é¡¹ç›®äº§ç”Ÿçš„ä»»ä½•æ³•å¾‹é—®é¢˜ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚è¯·æ”¯æŒæ­£ç‰ˆå½±è§†å†…å®¹ã€‚

## ðŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿Žæäº¤Issueå’ŒPull Requestæ¥å®Œå–„é¡¹ç›®ï¼

### å¼€å‘è®¡åˆ’
- [ ] æ·»åŠ æ›´å¤šå½±è§†èµ„æºç«™ç‚¹
- [ ] æ”¯æŒç”¨æˆ·æ”¶è—å’ŒåŽ†å²è®°å½•
- [ ] æ·»åŠ æ’­æ”¾åŽ†å²åŒæ­¥åŠŸèƒ½
- [ ] æ”¯æŒå¤šç”¨æˆ·ç³»ç»Ÿ
- [ ] æ·»åŠ å½±è§†æŽ¨èç®—æ³•

## ðŸ“„ å¼€æºåè®®

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## â­ æ”¯æŒé¡¹ç›®

å¦‚æžœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼

---

**ðŸŽ¬ åƒç“œTV - è®©æ¯ä¸ªäººéƒ½èƒ½æ‹¥æœ‰ä¸“å±žçš„å½±è§†åº“ï¼**
=======
# ChiGuaTV
åƒç“œè§†é¢‘ï¼Œåƒç“œå½±è§†ï¼Œåƒç“œTV



V1.1

æ›´æ–°å†…å®¹
- å¤šç”¨æˆ·ç³»ç»Ÿ ï¼šå®žçŽ°äº†ç”¨æˆ·æ³¨å†Œã€ç™»å½•åŠŸèƒ½ï¼Œä½¿ç”¨tokenè¿›è¡Œèº«ä»½éªŒè¯ï¼Œæ”¯æŒå¤šç”¨æˆ·ç‹¬ç«‹ä½¿ç”¨ç³»ç»Ÿã€‚
- ç”¨æˆ·æ”¶è—åŠŸèƒ½ ï¼š

- å®žçŽ°äº†æ·»åŠ æ”¶è—ã€èŽ·å–æ”¶è—åˆ—è¡¨ã€åˆ é™¤æ”¶è—çš„API
- å‰ç«¯ç•Œé¢æ·»åŠ äº†æ”¶è—æŒ‰é’®å’Œæ”¶è—åˆ—è¡¨å±•ç¤º
- æ”¯æŒåœ¨æ’­æ”¾é¡µé¢ä¸€é”®æ”¶è—/å–æ¶ˆæ”¶è—
- ç”¨æˆ·åŽ†å²è®°å½•åŠŸèƒ½ ï¼š

- å®žçŽ°äº†æ·»åŠ åŽ†å²è®°å½•ã€èŽ·å–åŽ†å²è®°å½•ã€æ¸…é™¤åŽ†å²è®°å½•çš„API
- å‰ç«¯ç•Œé¢æ·»åŠ äº†åŽ†å²è®°å½•åˆ—è¡¨å±•ç¤º
- æ”¯æŒåœ¨æ’­æ”¾é¡µé¢è‡ªåŠ¨æ›´æ–°è§‚çœ‹è¿›åº¦
- æ’­æ”¾åŽ†å²åŒæ­¥åŠŸèƒ½ ï¼š

- åœ¨è§†é¢‘æ’­æ”¾æ—¶è‡ªåŠ¨è®°å½•æ’­æ”¾è¿›åº¦
- æ”¯æŒåœ¨ä¸åŒè®¾å¤‡é—´åŒæ­¥è§‚çœ‹åŽ†å²
- å½±è§†æŽ¨èç®—æ³• ï¼š

- å®žçŽ°äº†åŸºäºŽçƒ­é—¨å†…å®¹çš„æŽ¨èç®—æ³•
- æ”¯æŒæ ¹æ®ç”¨æˆ·åŽ†å²è®°å½•è¿›è¡Œç®€å•çš„ä¸ªæ€§åŒ–æŽ¨è
- å‰ç«¯ç•Œé¢æ›´æ–° ï¼š

- æ·»åŠ äº†æ”¶è—ã€åŽ†å²è®°å½•ã€æŽ¨èåŠŸèƒ½çš„UIç»„ä»¶
- ä¼˜åŒ–äº†æ’­æ”¾é¡µé¢çš„ç”¨æˆ·ä½“éªŒ
- å®žçŽ°äº†å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒè®¾å¤‡

# åƒç“œTV Cloudflare Workers éƒ¨ç½²æŒ‡å—
## å¿«é€Ÿéƒ¨ç½²æ­¥éª¤
### 1. çŽ¯å¢ƒå‡†å¤‡
- ç¡®ä¿å®‰è£…äº† Node.js â‰¥ 18.0 å’Œ npm â‰¥ 8.0
- æ³¨å†Œå¹¶ç™»å½• Cloudflare è´¦å·
### 2. é¡¹ç›®é…ç½® é…ç½® TMDb API Key
1. ç¼–è¾‘ public/index.html æ–‡ä»¶ï¼Œæ›¿æ¢ä¸ºä½ è‡ªå·±çš„ TMDb API Keyï¼š
   
   ```
   constÂ TMDB_API_KEYÂ =Â "ä½ çš„TMDbÂ 
   APIÂ Key";
   ```
2. èŽ·å– TMDb API Keyï¼š
   
   - è®¿é—® TMDb å®˜ç½‘ https://www.themoviedb.org/
   - æ³¨å†Œå¹¶ç™»å½•
   - è¿›å…¥ API è®¾ç½®é¡µé¢
   - åˆ›å»º Developer ç±»åž‹çš„ API å¯†é’¥ é…ç½® Cloudflare Workers
1. ç¼–è¾‘ wrangler.toml æ–‡ä»¶ï¼Œä¿®æ”¹ Worker åç§°ï¼š
   ```
   nameÂ =Â "ä½ çš„-workeråç§°"Â Â #Â ä¾‹å¦‚ï¼š
   chiguatv
   ```
### 3. æœ¬åœ°å¼€å‘æµ‹è¯•
```
npmÂ runÂ dev
```
è®¿é—® http://localhost:8787 è¿›è¡Œæœ¬åœ°æµ‹è¯•

### 4. éƒ¨ç½²åˆ° Cloudflare Workers
```
npmÂ runÂ deploy
```
### 5. è®¿é—®åº”ç”¨
- å‰ç«¯é¡µé¢: https://ä½ çš„-workeråç§°.workers.dev
- åŽå°ç®¡ç†: https://ä½ çš„-workeråç§°.workers.dev/admin.html (é»˜è®¤å¯†ç : admin )
## åŠŸèƒ½æµ‹è¯•æ¸…å•
éƒ¨ç½²åŽï¼Œå»ºè®®æŒ‰ç…§ä»¥ä¸‹æ¸…å•æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼š

- âœ… æ³¨å†Œæ–°ç”¨æˆ·
- âœ… ç™»å½•å·²æœ‰ç”¨æˆ·
- âœ… æœç´¢å½±è§†å†…å®¹
- âœ… æ’­æ”¾å½±è§†å†…å®¹
- âœ… æ·»åŠ /å–æ¶ˆæ”¶è—
- âœ… æŸ¥çœ‹åŽ†å²è®°å½•
- âœ… æ¸…é™¤åŽ†å²è®°å½•
- âœ… æŸ¥çœ‹æŽ¨èå†…å®¹
- âœ… è®¿é—®ç®¡ç†åŽå°
## å¸¸è§é—®é¢˜æŽ’æŸ¥
1. API è¯·æ±‚å¤±è´¥ ï¼šæ£€æŸ¥ç½‘ç»œè¿žæŽ¥å’Œ TMDb API Key æ˜¯å¦æœ‰æ•ˆ
2. æ’­æ”¾å¤±è´¥ ï¼šå°è¯•åˆ‡æ¢å…¶ä»–èµ„æºæºï¼Œæ£€æŸ¥èµ„æºç«™ç‚¹æ˜¯å¦å¯ç”¨
3. ç™»å½•å¤±è´¥ ï¼šç¡®ä¿å¯†ç é•¿åº¦ä¸å°‘äºŽ6ä¸ªå­—ç¬¦
4. éƒ¨ç½²å¤±è´¥ ï¼šæ£€æŸ¥ wrangler.toml é…ç½®ï¼Œç¡®ä¿ Cloudflare CLI å·²ç™»å½•
## è°ƒè¯•å·¥å…·
1. æœ¬åœ°æ—¥å¿— ï¼šè¿è¡Œ npm run dev æŸ¥çœ‹æœ¬åœ°æ—¥å¿—
2. Cloudflare æ—¥å¿— ï¼šåœ¨ Cloudflare Workers æŽ§åˆ¶å°æŸ¥çœ‹è¿è¡Œæ—¥å¿—
3. API æµ‹è¯• ï¼šä½¿ç”¨ curl æˆ– Postman æµ‹è¯• API ç«¯ç‚¹
## é«˜çº§é…ç½®
1. è‡ªå®šä¹‰èµ„æºç«™ç‚¹ ï¼šç¼–è¾‘ worker.js ä¸­çš„ DEFAULT_SITES æ•°ç»„
2. ä¿®æ”¹ç®¡ç†å‘˜å¯†ç  ï¼šç¼–è¾‘ worker.js ä¸­çš„ç®¡ç†å‘˜ç™»å½• API éƒ¨åˆ†
3. æ·»åŠ æ–°åŠŸèƒ½ ï¼šæ ¹æ®å¼€å‘è®¡åˆ’é€æ­¥å®žçŽ°æ›´å¤šåŠŸèƒ½
## æŠ€æœ¯æ”¯æŒ
å¦‚æžœé‡åˆ°éƒ¨ç½²æˆ–ä½¿ç”¨é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹ Cloudflare Workers æ–‡æ¡£
2. æ£€æŸ¥é¡¹ç›® GitHub Issues
3. æäº¤æ–°çš„ Issue æè¿°é—®é¢˜
ç¥ä½ éƒ¨ç½²é¡ºåˆ©ï¼ðŸš€
>>>>>>> 682288b6d42e71579538fbfafb9716b6798eabcf
